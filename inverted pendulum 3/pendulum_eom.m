function dx=pendulum_eom(t,x,K,r0)
% pendulum parameters 
M=1.5;
m = 1;
l = 1.2;
g=9.81;
F=-K*(x-r0);    % force applied to the cart
%-----%
dx=zeros(8,1);  % system states
% equation of motion 
    dx(1,1)=x(2);
    dx(2,1)=(-1).*((-1).*((2.*l.^4.*m.^2+(-1).*l.^4.*m.^2.*cos(x(5)+(-1).*x(7)) ...
            .^2).*(3.*l.^3.*m.^2.*cos(x(3))+(-1).*l.^3.*m.^2.*cos(x(3)+(-1).*x(7)).* ...
            cos(x(7)))+(-1).*(2.*l.^4.*m.^2.*cos(x(3)+(-1).*x(5))+(-1).*l.^4.*m.^2.* ...
            cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))).*(2.*l.^3.*m.^2.*cos(x(5))+(-1) ...
            .*l.^3.*m.^2.*cos(x(5)+(-1).*x(7)).*cos(x(7)))).^2+(6.*l.^8.*m.^4+(-4).* ...
            l.^8.*m.^4.*cos(x(3)+(-1).*x(5)).^2+(-2).*l.^8.*m.^4.*cos(x(3)+(-1).*x(7)) ...
            .^2+4.*l.^8.*m.^4.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1) ...
            .*x(7))+(-3).*l.^8.*m.^4.*cos(x(5)+(-1).*x(7)).^2).*((-1).*(2.*l.^3.* ...
            m.^2.*cos(x(5))+(-1).*l.^3.*m.^2.*cos(x(5)+(-1).*x(7)).*cos(x(7))).^2+(2.* ...
            l.^4.*m.^2+(-1).*l.^4.*m.^2.*cos(x(5)+(-1).*x(7)).^2).*(l.^2.*m.*(3.* ...
            m+M)+(-1).*l.^2.*m.^2.*cos(x(7)).^2))).^(-1).*((-1).*((2.*l.^4.* ...
            m.^2+(-1).*l.^4.*m.^2.*cos(x(5)+(-1).*x(7)).^2).*(3.*l.^3.*m.^2.*cos( ...
            x(3))+(-1).*l.^3.*m.^2.*cos(x(3)+(-1).*x(7)).*cos(x(7)))+(-1).*(2.*l.^4.* ...
            m.^2.*cos(x(3)+(-1).*x(5))+(-1).*l.^4.*m.^2.*cos(x(3)+(-1).*x(7)).*cos(x(5)+ ...
            (-1).*x(7))).*(2.*l.^3.*m.^2.*cos(x(5))+(-1).*l.^3.*m.^2.*cos(x(5)+(-1) ...
            .*x(7)).*cos(x(7)))).*((2.*l.^4.*m.^2+(-1).*l.^4.*m.^2.*cos(x(5)+(-1).* ...
            x(7)).^2).*(l.^2.*m.*((-3).*g.*l.*m.*sin(x(3))+2.*l.^2.*m.*x(6).^2.*sin( ...
            x(3)+(-1).*x(5))+l.^2.*m.*x(8).^2.*sin(x(3)+(-1).*x(7)))+(-1).*l.^2.*m.*cos( ...
            x(3)+(-1).*x(7)).*((-1).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).*x(7))+(-1).*l.^2.* ...
            m.*x(6).^2.*sin(x(5)+(-1).*x(7))+(-1).*g.*l.*m.*sin(x(7))))+(-1).*(2.* ...
            l.^4.*m.^2.*cos(x(3)+(-1).*x(5))+(-1).*l.^4.*m.^2.*cos(x(3)+(-1).*x(7)).* ...
            cos(x(5)+(-1).*x(7))).*(l.^2.*m.*((-2).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).* ...
            x(5))+(-2).*g.*l.*m.*sin(x(5))+l.^2.*m.*x(8).^2.*sin(x(5)+(-1).*x(7)))+(-1) ...
            .*l.^2.*m.*cos(x(5)+(-1).*x(7)).*((-1).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).* ...
            x(7))+(-1).*l.^2.*m.*x(6).^2.*sin(x(5)+(-1).*x(7))+(-1).*g.*l.*m.*sin(x(7))) ...
            ))+(6.*l.^8.*m.^4+(-4).*l.^8.*m.^4.*cos(x(3)+(-1).*x(5)).^2+(-2).* ...
            l.^8.*m.^4.*cos(x(3)+(-1).*x(7)).^2+4.*l.^8.*m.^4.*cos(x(3)+(-1).*x(5)).* ...
            cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-3).*l.^8.*m.^4.*cos(x(5)+(-1).* ...
            x(7)).^2).*((-1).*(2.*l.^3.*m.^2.*cos(x(5))+(-1).*l.^3.*m.^2.*cos(x(5)+( ...
            -1).*x(7)).*cos(x(7))).*(l.^2.*m.*((-2).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).* ...
            x(5))+(-2).*g.*l.*m.*sin(x(5))+l.^2.*m.*x(8).^2.*sin(x(5)+(-1).*x(7)))+(-1) ...
            .*l.^2.*m.*cos(x(5)+(-1).*x(7)).*((-1).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).* ...
            x(7))+(-1).*l.^2.*m.*x(6).^2.*sin(x(5)+(-1).*x(7))+(-1).*g.*l.*m.*sin(x(7))) ...
            )+(2.*l.^4.*m.^2+(-1).*l.^4.*m.^2.*cos(x(5)+(-1).*x(7)).^2).*((-1).* ...
            l.*m.*cos(x(7)).*((-1).*l.^2.*m.*x(4).^2.*sin(x(3)+(-1).*x(7))+(-1).* ...
            l.^2.*m.*x(6).^2.*sin(x(5)+(-1).*x(7))+(-1).*g.*l.*m.*sin(x(7)))+l.^2.*m.* ...
            ((-1).*F+(-3).*l.*m.*x(4).^2.*sin(x(3))+(-2).*l.*m.*x(6).^2.*sin(x(5))+( ...
            -1).*l.*m.*x(8).^2.*sin(x(7))))));
 
    dx(3,1)=x(4);
    dx(4,1)=(-1).*l.^(-1).*(18.*m+6.*M+(-18).*m.*cos(x(3)).^2+(-12).*m.*cos(x(3)+( ...
            -1).*x(5)).^2+(-4).*M.*cos(x(3)+(-1).*x(5)).^2+24.*m.*cos(x(3)).*cos(x(3)+( ...
            -1).*x(5)).*cos(x(5))+(-12).*m.*cos(x(5)).^2+(-6).*m.*cos(x(3)+(-1).*x(7)) ...
            .^2+(-2).*M.*cos(x(3)+(-1).*x(7)).^2+4.*m.*cos(x(5)).^2.*cos(x(3)+(-1).* ...
            x(7)).^2+12.*m.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)) ...
            +4.*M.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-12) ...
            .*m.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-9).* ...
            m.*cos(x(5)+(-1).*x(7)).^2+(-3).*M.*cos(x(5)+(-1).*x(7)).^2+9.*m.*cos(x(3)) ...
            .^2.*cos(x(5)+(-1).*x(7)).^2+12.*m.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(7)) ...
            +(-8).*m.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7))+( ...
            -12).*m.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+12.* ...
            m.*cos(x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+(-6).*m.*cos(x(7)).^2+4.*m.* ...
            cos(x(3)+(-1).*x(5)).^2.*cos(x(7)).^2).^(-1).*(6.*F.*cos(x(3))+(-4).*F.* ...
            cos(x(3)+(-1).*x(5)).*cos(x(5))+2.*F.*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+ ...
            (-1).*x(7))+(-3).*F.*cos(x(3)).*cos(x(5)+(-1).*x(7)).^2+(-2).*F.*cos(x(3)+( ...
            -1).*x(7)).*cos(x(7))+2.*F.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*cos( ...
            x(7))+(-18).*g.*m.*sin(x(3))+(-6).*g.*M.*sin(x(3))+18.*l.*m.*x(4).^2.*cos( ...
            x(3)).*sin(x(3))+(-12).*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*sin( ...
            x(3))+12.*g.*m.*cos(x(5)).^2.*sin(x(3))+6.*l.*m.*x(4).^2.*cos(x(5)).*cos(x(3)+ ...
            (-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+9.*g.*m.*cos(x(5)+(-1).*x(7)) ...
            .^2.*sin(x(3))+3.*g.*M.*cos(x(5)+(-1).*x(7)).^2.*sin(x(3))+(-9).*l.*m.* ...
            x(4).^2.*cos(x(3)).*cos(x(5)+(-1).*x(7)).^2.*sin(x(3))+(-6).*l.*m.*x(4).^2.* ...
            cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+6.*l.*m.*x(4).^2.*cos(x(3)+(-1).* ...
            x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+(-12).*g.*m.*cos(x(5)).*cos( ...
            x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+6.*g.*m.*cos(x(7)).^2.*sin(x(3))+12.* ...
            l.*m.*x(6).^2.*sin(x(3)+(-1).*x(5))+4.*l.*M.*x(6).^2.*sin(x(3)+(-1).*x(5))+ ...
            12.*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(5))+4.*l.*M.* ...
            x(4).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(5))+(-12).*l.*m.*x(4).^2.*cos( ...
            x(3)).*cos(x(5)).*sin(x(3)+(-1).*x(5))+(-8).*l.*m.*x(6).^2.*cos(x(5)).^2.*sin( ...
            x(3)+(-1).*x(5))+(-6).*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)) ...
            .*sin(x(3)+(-1).*x(5))+(-2).*l.*M.*x(4).^2.*cos(x(3)+(-1).*x(7)).*cos(x(5)+( ...
            -1).*x(7)).*sin(x(3)+(-1).*x(5))+(-6).*l.*m.*x(6).^2.*cos(x(5)+(-1).*x(7)) ...
            .^2.*sin(x(3)+(-1).*x(5))+(-2).*l.*M.*x(6).^2.*cos(x(5)+(-1).*x(7)).^2.*sin( ...
            x(3)+(-1).*x(5))+4.*l.*m.*x(4).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).* ...
            sin(x(3)+(-1).*x(5))+6.*l.*m.*x(4).^2.*cos(x(3)).*cos(x(5)+(-1).*x(7)).*cos( ...
            x(7)).*sin(x(3)+(-1).*x(5))+8.*l.*m.*x(6).^2.*cos(x(5)).*cos(x(5)+(-1).*x(7)).* ...
            cos(x(7)).*sin(x(3)+(-1).*x(5))+(-4).*l.*m.*x(6).^2.*cos(x(7)).^2.*sin(x(3)+( ...
            -1).*x(5))+(-4).*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(7)).^2.*sin(x(3)+( ...
            -1).*x(5))+12.*l.*m.*x(6).^2.*cos(x(3)).*sin(x(5))+12.*g.*m.*cos(x(3)+(-1).* ...
            x(5)).*sin(x(5))+4.*g.*M.*cos(x(3)+(-1).*x(5)).*sin(x(5))+(-12).*g.*m.*cos( ...
            x(3)).*cos(x(5)).*sin(x(5))+(-8).*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)) ...
            .*sin(x(5))+(-6).*g.*m.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(5))+ ...
            (-2).*g.*M.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(5))+4.*l.*m.* ...
            x(6).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(5))+(-6).* ...
            l.*m.*x(6).^2.*cos(x(3)).*cos(x(5)+(-1).*x(7)).^2.*sin(x(5))+(-4).*l.*m.* ...
            x(6).^2.*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(5))+4.*g.*m.*cos(x(5)).*cos( ...
            x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(5))+6.*g.*m.*cos(x(3)).*cos(x(5)+(-1).*x(7)) ...
            .*cos(x(7)).*sin(x(5))+4.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).* ...
            x(7)).*cos(x(7)).*sin(x(5))+(-4).*g.*m.*cos(x(3)+(-1).*x(5)).*cos(x(7)).^2.* ...
            sin(x(5))+6.*l.*m.*x(8).^2.*sin(x(3)+(-1).*x(7))+2.*l.*M.*x(8).^2.*sin(x(3)+( ...
            -1).*x(7))+(-4).*l.*m.*x(8).^2.*cos(x(5)).^2.*sin(x(3)+(-1).*x(7))+6.*l.*m.* ...
            x(4).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+2.*l.*M.*x(4).^2.*cos(x(3)+( ...
            -1).*x(7)).*sin(x(3)+(-1).*x(7))+(-4).*l.*m.*x(4).^2.*cos(x(5)).^2.*cos(x(3)+( ...
            -1).*x(7)).*sin(x(3)+(-1).*x(7))+(-6).*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+(-2).*l.*M.*x(4).^2.*cos(x(3)+(-1) ...
            .*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+6.*l.*m.*x(4).^2.*cos(x(3)) ...
            .*cos(x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+(-3).*l.*m.*x(8).^2.* ...
            cos(x(5)+(-1).*x(7)).^2.*sin(x(3)+(-1).*x(7))+(-1).*l.*M.*x(8).^2.*cos(x(5)+( ...
            -1).*x(7)).^2.*sin(x(3)+(-1).*x(7))+(-6).*l.*m.*x(4).^2.*cos(x(3)).*cos(x(7)) ...
            .*sin(x(3)+(-1).*x(7))+4.*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos( ...
            x(7)).*sin(x(3)+(-1).*x(7))+4.*l.*m.*x(8).^2.*cos(x(5)).*cos(x(5)+(-1).*x(7)).* ...
            cos(x(7)).*sin(x(3)+(-1).*x(7))+(-2).*l.*m.*x(8).^2.*cos(x(7)).^2.*sin(x(3)+( ...
            -1).*x(7))+(-6).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*sin(x(5)+(-1).*x(7))+( ...
            -2).*l.*M.*x(8).^2.*cos(x(3)+(-1).*x(5)).*sin(x(5)+(-1).*x(7))+6.*l.*m.* ...
            x(8).^2.*cos(x(3)).*cos(x(5)).*sin(x(5)+(-1).*x(7))+6.*l.*m.*x(6).^2.*cos(x(3)+( ...
            -1).*x(7)).*sin(x(5)+(-1).*x(7))+2.*l.*M.*x(6).^2.*cos(x(3)+(-1).*x(7)).*sin( ...
            x(5)+(-1).*x(7))+(-4).*l.*m.*x(6).^2.*cos(x(5)).^2.*cos(x(3)+(-1).*x(7)).*sin( ...
            x(5)+(-1).*x(7))+(-6).*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)) ...
            .*sin(x(5)+(-1).*x(7))+(-2).*l.*M.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+( ...
            -1).*x(7)).*sin(x(5)+(-1).*x(7))+6.*l.*m.*x(6).^2.*cos(x(3)).*cos(x(5)).*cos( ...
            x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+3.*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(7)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+l.*M.*x(8).^2.*cos(x(3)+(-1).*x(7)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-6).*l.*m.*x(6).^2.*cos(x(3)).* ...
            cos(x(7)).*sin(x(5)+(-1).*x(7))+4.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos( ...
            x(5)).*cos(x(7)).*sin(x(5)+(-1).*x(7))+(-2).*l.*m.*x(8).^2.*cos(x(5)).*cos(x(3)+ ...
            (-1).*x(7)).*cos(x(7)).*sin(x(5)+(-1).*x(7))+(-3).*l.*m.*x(8).^2.*cos(x(3)).* ...
            cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(5)+(-1).*x(7))+2.*l.*m.*x(8).^2.*cos( ...
            x(3)+(-1).*x(5)).*cos(x(7)).^2.*sin(x(5)+(-1).*x(7))+6.*l.*m.*x(8).^2.*cos(x(3)) ...
            .*sin(x(7))+(-4).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*sin(x(7))+ ...
            6.*g.*m.*cos(x(3)+(-1).*x(7)).*sin(x(7))+2.*g.*M.*cos(x(3)+(-1).*x(7)).*sin( ...
            x(7))+(-4).*g.*m.*cos(x(5)).^2.*cos(x(3)+(-1).*x(7)).*sin(x(7))+(-6).*g.*m.* ...
            cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+(-2).*g.*M.*cos(x(3)+( ...
            -1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+6.*g.*m.*cos(x(3)).*cos(x(5)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(7))+2.*l.*m.*x(8).^2.*cos(x(5)).*cos(x(3)+(-1).* ...
            x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+(-3).*l.*m.*x(8).^2.*cos(x(3)).*cos(x(5)+ ...
            (-1).*x(7)).^2.*sin(x(7))+(-6).*g.*m.*cos(x(3)).*cos(x(7)).*sin(x(7))+4.*g.* ...
            m.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(7)).*sin(x(7))+(-2).*l.*m.*x(8).^2.* ...
            cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(7))+2.*l.*m.*x(8).^2.*cos(x(3)+(-1).* ...
            x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(7)));
 
    dx(5,1)=x(6);
    dx(6,1)=(-1).*l.^(-1).*(18.*m+6.*M+(-18).*m.*cos(x(3)).^2+(-12).*m.*cos(x(3)+( ...
            -1).*x(5)).^2+(-4).*M.*cos(x(3)+(-1).*x(5)).^2+24.*m.*cos(x(3)).*cos(x(3)+( ...
            -1).*x(5)).*cos(x(5))+(-12).*m.*cos(x(5)).^2+(-6).*m.*cos(x(3)+(-1).*x(7)) ...
            .^2+(-2).*M.*cos(x(3)+(-1).*x(7)).^2+4.*m.*cos(x(5)).^2.*cos(x(3)+(-1).* ...
            x(7)).^2+12.*m.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)) ...
            +4.*M.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-12) ...
            .*m.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-9).* ...
            m.*cos(x(5)+(-1).*x(7)).^2+(-3).*M.*cos(x(5)+(-1).*x(7)).^2+9.*m.*cos(x(3)) ...
            .^2.*cos(x(5)+(-1).*x(7)).^2+12.*m.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(7)) ...
            +(-8).*m.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7))+( ...
            -12).*m.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+12.* ...
            m.*cos(x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+(-6).*m.*cos(x(7)).^2+4.*m.* ...
            cos(x(3)+(-1).*x(5)).^2.*cos(x(7)).^2).^(-1).*((-6).*F.*cos(x(3)).*cos(x(3)+ ...
            (-1).*x(5))+6.*F.*cos(x(5))+(-2).*F.*cos(x(5)).*cos(x(3)+(-1).*x(7)).^2+3.* ...
            F.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+2.*F.*cos(x(3)+(-1).* ...
            x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7))+(-3).*F.*cos(x(5)+(-1).*x(7)).*cos(x(7))+ ...
            18.*g.*m.*cos(x(3)+(-1).*x(5)).*sin(x(3))+6.*g.*M.*cos(x(3)+(-1).*x(5)).* ...
            sin(x(3))+(-18).*l.*m.*x(4).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*sin(x(3))+ ...
            18.*l.*m.*x(4).^2.*cos(x(5)).*sin(x(3))+(-18).*g.*m.*cos(x(3)).*cos(x(5)).* ...
            sin(x(3))+(-6).*l.*m.*x(4).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)).^2.*sin(x(3))+( ...
            -9).*g.*m.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+(-3).*g.* ...
            M.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+9.*l.*m.*x(4).^2.* ...
            cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+6.*l.*m.* ...
            x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+6.*g.* ...
            m.*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+(-9).*l.*m.*x(4).^2.* ...
            cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(3))+9.*g.*m.*cos(x(3)).*cos(x(5)+(-1).* ...
            x(7)).*cos(x(7)).*sin(x(3))+(-6).*g.*m.*cos(x(3)+(-1).*x(5)).*cos(x(7)).^2.* ...
            sin(x(3))+(-18).*l.*m.*x(4).^2.*sin(x(3)+(-1).*x(5))+(-6).*l.*M.*x(4).^2.* ...
            sin(x(3)+(-1).*x(5))+18.*l.*m.*x(4).^2.*cos(x(3)).^2.*sin(x(3)+(-1).*x(5))+( ...
            -12).*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(5))+(-4).*l.*M.* ...
            x(6).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(5))+12.*l.*m.*x(6).^2.*cos(x(3)) ...
            .*cos(x(5)).*sin(x(3)+(-1).*x(5))+6.*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(7)).^2.* ...
            sin(x(3)+(-1).*x(5))+2.*l.*M.*x(4).^2.*cos(x(3)+(-1).*x(7)).^2.*sin(x(3)+(-1) ...
            .*x(5))+6.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+( ...
            -1).*x(5))+2.*l.*M.*x(6).^2.*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin( ...
            x(3)+(-1).*x(5))+(-12).*l.*m.*x(4).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos( ...
            x(7)).*sin(x(3)+(-1).*x(5))+(-4).*l.*m.*x(6).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)) ...
            .*cos(x(7)).*sin(x(3)+(-1).*x(5))+(-6).*l.*m.*x(6).^2.*cos(x(3)).*cos(x(5)+( ...
            -1).*x(7)).*cos(x(7)).*sin(x(3)+(-1).*x(5))+6.*l.*m.*x(4).^2.*cos(x(7)).^2.* ...
            sin(x(3)+(-1).*x(5))+4.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(7)).^2.* ...
            sin(x(3)+(-1).*x(5))+(-18).*g.*m.*sin(x(5))+(-6).*g.*M.*sin(x(5))+18.*g.* ...
            m.*cos(x(3)).^2.*sin(x(5))+(-12).*l.*m.*x(6).^2.*cos(x(3)).*cos(x(3)+(-1).* ...
            x(5)).*sin(x(5))+12.*l.*m.*x(6).^2.*cos(x(5)).*sin(x(5))+6.*g.*m.*cos(x(3)+( ...
            -1).*x(7)).^2.*sin(x(5))+2.*g.*M.*cos(x(3)+(-1).*x(7)).^2.*sin(x(5))+(-4).* ...
            l.*m.*x(6).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)).^2.*sin(x(5))+6.*l.*m.* ...
            x(6).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(5))+(-12) ...
            .*g.*m.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(5))+4.*l.*m.* ...
            x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(5))+(-6).* ...
            l.*m.*x(6).^2.*cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(5))+6.*g.*m.*cos(x(7)) ...
            .^2.*sin(x(5))+(-6).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(7)) ...
            +(-2).*l.*M.*x(8).^2.*cos(x(3)+(-1).*x(5)).*sin(x(3)+(-1).*x(7))+6.*l.*m.* ...
            x(8).^2.*cos(x(3)).*cos(x(5)).*sin(x(3)+(-1).*x(7))+(-6).*l.*m.*x(4).^2.*cos( ...
            x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+(-2).*l.*M.* ...
            x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+6.*l.* ...
            m.*x(4).^2.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+9.* ...
            l.*m.*x(4).^2.*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+3.*l.*M.*x(4).^2.* ...
            cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+(-9).*l.*m.*x(4).^2.*cos(x(3)).^2.* ...
            cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+3.*l.*m.*x(8).^2.*cos(x(3)+(-1).* ...
            x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+l.*M.*x(8).^2.*cos(x(3)+(-1).* ...
            x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(7))+6.*l.*m.*x(4).^2.*cos(x(3)).* ...
            cos(x(3)+(-1).*x(5)).*cos(x(7)).*sin(x(3)+(-1).*x(7))+(-6).*l.*m.*x(4).^2.* ...
            cos(x(5)).*cos(x(7)).*sin(x(3)+(-1).*x(7))+(-2).*l.*m.*x(8).^2.*cos(x(5)).* ...
            cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(3)+(-1).*x(7))+(-3).*l.*m.*x(8).^2.* ...
            cos(x(3)).*cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(3)+(-1).*x(7))+2.*l.*m.* ...
            x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(7)).^2.*sin(x(3)+(-1).*x(7))+9.*l.*m.* ...
            x(8).^2.*sin(x(5)+(-1).*x(7))+3.*l.*M.*x(8).^2.*sin(x(5)+(-1).*x(7))+(-9).*l.* ...
            m.*x(8).^2.*cos(x(3)).^2.*sin(x(5)+(-1).*x(7))+(-6).*l.*m.*x(6).^2.*cos(x(3)+( ...
            -1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-2).*l.*M.*x(6).^2.* ...
            cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+6.*l.*m.* ...
            x(6).^2.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-3).* ...
            l.*m.*x(8).^2.*cos(x(3)+(-1).*x(7)).^2.*sin(x(5)+(-1).*x(7))+(-1).*l.*M.* ...
            x(8).^2.*cos(x(3)+(-1).*x(7)).^2.*sin(x(5)+(-1).*x(7))+9.*l.*m.*x(6).^2.*cos( ...
            x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+3.*l.*M.*x(6).^2.*cos(x(5)+(-1).*x(7)).* ...
            sin(x(5)+(-1).*x(7))+(-9).*l.*m.*x(6).^2.*cos(x(3)).^2.*cos(x(5)+(-1).*x(7)).* ...
            sin(x(5)+(-1).*x(7))+6.*l.*m.*x(6).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos( ...
            x(7)).*sin(x(5)+(-1).*x(7))+(-6).*l.*m.*x(6).^2.*cos(x(5)).*cos(x(7)).*sin(x(5)+ ...
            (-1).*x(7))+6.*l.*m.*x(8).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin( ...
            x(5)+(-1).*x(7))+(-3).*l.*m.*x(8).^2.*cos(x(7)).^2.*sin(x(5)+(-1).*x(7))+(-6) ...
            .*l.*m.*x(8).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*sin(x(7))+6.*l.*m.*x(8).^2.* ...
            cos(x(5)).*sin(x(7))+(-6).*g.*m.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).* ...
            sin(x(7))+(-2).*g.*M.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(7))+ ...
            6.*g.*m.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(7))+(-2).*l.*m.* ...
            x(8).^2.*cos(x(5)).*cos(x(3)+(-1).*x(7)).^2.*sin(x(7))+9.*g.*m.*cos(x(5)+(-1) ...
            .*x(7)).*sin(x(7))+3.*g.*M.*cos(x(5)+(-1).*x(7)).*sin(x(7))+(-9).*g.*m.*cos( ...
            x(3)).^2.*cos(x(5)+(-1).*x(7)).*sin(x(7))+3.*l.*m.*x(8).^2.*cos(x(3)).*cos(x(3)+ ...
            (-1).*x(7)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+6.*g.*m.*cos(x(3)).*cos(x(3)+(-1) ...
            .*x(5)).*cos(x(7)).*sin(x(7))+(-6).*g.*m.*cos(x(5)).*cos(x(7)).*sin(x(7))+2.* ...
            l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7)).*sin(x(7))+ ...
            (-3).*l.*m.*x(8).^2.*cos(x(5)+(-1).*x(7)).*cos(x(7)).*sin(x(7)));
    dx(7,1)=x(8);
    dx(8,1)=(-1).*l.^(-1).*(18.*m+6.*M+(-18).*m.*cos(x(3)).^2+(-12).*m.*cos(x(3)+( ...
            -1).*x(5)).^2+(-4).*M.*cos(x(3)+(-1).*x(5)).^2+24.*m.*cos(x(3)).*cos(x(3)+( ...
            -1).*x(5)).*cos(x(5))+(-12).*m.*cos(x(5)).^2+(-6).*m.*cos(x(3)+(-1).*x(7)) ...
            .^2+(-2).*M.*cos(x(3)+(-1).*x(7)).^2+4.*m.*cos(x(5)).^2.*cos(x(3)+(-1).* ...
            x(7)).^2+12.*m.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7)) ...
            +4.*M.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-12) ...
            .*m.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(5)+(-1).*x(7))+(-9).* ...
            m.*cos(x(5)+(-1).*x(7)).^2+(-3).*M.*cos(x(5)+(-1).*x(7)).^2+9.*m.*cos(x(3)) ...
            .^2.*cos(x(5)+(-1).*x(7)).^2+12.*m.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*cos(x(7)) ...
            +(-8).*m.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*cos(x(7))+( ...
            -12).*m.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+12.* ...
            m.*cos(x(5)).*cos(x(5)+(-1).*x(7)).*cos(x(7))+(-6).*m.*cos(x(7)).^2+4.*m.* ...
            cos(x(3)+(-1).*x(5)).^2.*cos(x(7)).^2).^(-1).*((-6).*F.*cos(x(3)).*cos(x(3)+ ...
            (-1).*x(7))+4.*F.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7))+6.*F.* ...
            cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7))+(-6).*F.*cos(x(5)).*cos( ...
            x(5)+(-1).*x(7))+6.*F.*cos(x(7))+(-4).*F.*cos(x(3)+(-1).*x(5)).^2.*cos(x(7))+ ...
            18.*g.*m.*cos(x(3)+(-1).*x(7)).*sin(x(3))+6.*g.*M.*cos(x(3)+(-1).*x(7)).* ...
            sin(x(3))+(-18).*l.*m.*x(4).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*sin(x(3))+ ...
            12.*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin( ...
            x(3))+(-12).*g.*m.*cos(x(5)).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3))+(-18).*g.* ...
            m.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+(-6).*g.*M.*cos(x(3)+ ...
            (-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+18.*l.*m.*x(4).^2.*cos(x(3)).* ...
            cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+(-18).*l.*m.*x(4).^2.* ...
            cos(x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3))+18.*g.*m.*cos(x(3)).*cos(x(5)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(3))+18.*l.*m.*x(4).^2.*cos(x(7)).*sin(x(3))+(-18) ...
            .*g.*m.*cos(x(3)).*cos(x(7)).*sin(x(3))+(-12).*l.*m.*x(4).^2.*cos(x(3)+(-1) ...
            .*x(5)).^2.*cos(x(7)).*sin(x(3))+12.*g.*m.*cos(x(3)+(-1).*x(5)).*cos(x(5)).* ...
            cos(x(7)).*sin(x(3))+(-12).*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1) ...
            .*x(5))+(-4).*l.*M.*x(6).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).*x(5))+(-12) ...
            .*l.*m.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).* ...
            x(5))+(-4).*l.*M.*x(4).^2.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(3)+ ...
            (-1).*x(5))+12.*l.*m.*x(4).^2.*cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).* ...
            sin(x(3)+(-1).*x(5))+8.*l.*m.*x(6).^2.*cos(x(5)).^2.*cos(x(3)+(-1).*x(7)).* ...
            sin(x(3)+(-1).*x(5))+18.*l.*m.*x(4).^2.*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).* ...
            x(5))+6.*l.*M.*x(4).^2.*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(5))+(-18).*l.* ...
            m.*x(4).^2.*cos(x(3)).^2.*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(5))+12.*l.* ...
            m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(5))+4.* ...
            l.*M.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+(-1).*x(5))+ ...
            (-12).*l.*m.*x(6).^2.*cos(x(3)).*cos(x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+( ...
            -1).*x(5))+12.*l.*m.*x(6).^2.*cos(x(3)).*cos(x(7)).*sin(x(3)+(-1).*x(5))+12.* ...
            l.*m.*x(4).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(7)).*sin(x(3)+(-1).*x(5))+ ...
            (-12).*l.*m.*x(4).^2.*cos(x(5)).*cos(x(7)).*sin(x(3)+(-1).*x(5))+(-8).*l.* ...
            m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(7)).*sin(x(3)+(-1).*x(5))+( ...
            -12).*l.*m.*x(6).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*sin(x(5))+(-12).*g.* ...
            m.*cos(x(3)+(-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5))+(-4).*g.*M.*cos(x(3)+ ...
            (-1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5))+12.*g.*m.*cos(x(3)).*cos(x(5)).* ...
            cos(x(3)+(-1).*x(7)).*sin(x(5))+8.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).*cos( ...
            x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5))+18.*g.*m.*cos(x(5)+(-1).*x(7)).*sin(x(5)) ...
            +6.*g.*M.*cos(x(5)+(-1).*x(7)).*sin(x(5))+(-18).*g.*m.*cos(x(3)).^2.*cos( ...
            x(5)+(-1).*x(7)).*sin(x(5))+12.*l.*m.*x(6).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).* ...
            cos(x(5)+(-1).*x(7)).*sin(x(5))+(-12).*l.*m.*x(6).^2.*cos(x(5)).*cos(x(5)+(-1) ...
            .*x(7)).*sin(x(5))+12.*l.*m.*x(6).^2.*cos(x(7)).*sin(x(5))+12.*g.*m.*cos(x(3)) ...
            .*cos(x(3)+(-1).*x(5)).*cos(x(7)).*sin(x(5))+(-8).*l.*m.*x(6).^2.*cos(x(3)+( ...
            -1).*x(5)).^2.*cos(x(7)).*sin(x(5))+(-12).*g.*m.*cos(x(5)).*cos(x(7)).*sin( ...
            x(5))+(-18).*l.*m.*x(4).^2.*sin(x(3)+(-1).*x(7))+(-6).*l.*M.*x(4).^2.*sin( ...
            x(3)+(-1).*x(7))+18.*l.*m.*x(4).^2.*cos(x(3)).^2.*sin(x(3)+(-1).*x(7))+12.*l.* ...
            m.*x(4).^2.*cos(x(3)+(-1).*x(5)).^2.*sin(x(3)+(-1).*x(7))+4.*l.*M.*x(4).^2.* ...
            cos(x(3)+(-1).*x(5)).^2.*sin(x(3)+(-1).*x(7))+(-24).*l.*m.*x(4).^2.*cos(x(3)) ...
            .*cos(x(3)+(-1).*x(5)).*cos(x(5)).*sin(x(3)+(-1).*x(7))+12.*l.*m.*x(4).^2.* ...
            cos(x(5)).^2.*sin(x(3)+(-1).*x(7))+(-6).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(7)).* ...
            sin(x(3)+(-1).*x(7))+(-2).*l.*M.*x(8).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1) ...
            .*x(7))+4.*l.*m.*x(8).^2.*cos(x(5)).^2.*cos(x(3)+(-1).*x(7)).*sin(x(3)+(-1).* ...
            x(7))+6.*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(3)+( ...
            -1).*x(7))+2.*l.*M.*x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin( ...
            x(3)+(-1).*x(7))+(-6).*l.*m.*x(8).^2.*cos(x(3)).*cos(x(5)).*cos(x(5)+(-1).*x(7)) ...
            .*sin(x(3)+(-1).*x(7))+6.*l.*m.*x(8).^2.*cos(x(3)).*cos(x(7)).*sin(x(3)+(-1).* ...
            x(7))+(-4).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(7)).*sin(x(3)+ ...
            (-1).*x(7))+(-18).*l.*m.*x(6).^2.*sin(x(5)+(-1).*x(7))+(-6).*l.*M.*x(6).^2.* ...
            sin(x(5)+(-1).*x(7))+18.*l.*m.*x(6).^2.*cos(x(3)).^2.*sin(x(5)+(-1).*x(7))+ ...
            12.*l.*m.*x(6).^2.*cos(x(3)+(-1).*x(5)).^2.*sin(x(5)+(-1).*x(7))+4.*l.*M.* ...
            x(6).^2.*cos(x(3)+(-1).*x(5)).^2.*sin(x(5)+(-1).*x(7))+(-24).*l.*m.*x(6).^2.* ...
            cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)).*sin(x(5)+(-1).*x(7))+12.*l.*m.* ...
            x(6).^2.*cos(x(5)).^2.*sin(x(5)+(-1).*x(7))+6.*l.*m.*x(8).^2.*cos(x(3)+(-1).* ...
            x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+2.*l.*M.*x(8).^2.*cos(x(3)+( ...
            -1).*x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-6).*l.*m.*x(8).^2.* ...
            cos(x(3)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-9).*l.*m.* ...
            x(8).^2.*cos(x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-3).*l.*M.*x(8).^2.*cos( ...
            x(5)+(-1).*x(7)).*sin(x(5)+(-1).*x(7))+9.*l.*m.*x(8).^2.*cos(x(3)).^2.*cos(x(5)+ ...
            (-1).*x(7)).*sin(x(5)+(-1).*x(7))+(-6).*l.*m.*x(8).^2.*cos(x(3)).*cos(x(3)+( ...
            -1).*x(5)).*cos(x(7)).*sin(x(5)+(-1).*x(7))+6.*l.*m.*x(8).^2.*cos(x(5)).*cos( ...
            x(7)).*sin(x(5)+(-1).*x(7))+(-18).*g.*m.*sin(x(7))+(-6).*g.*M.*sin(x(7))+ ...
            18.*g.*m.*cos(x(3)).^2.*sin(x(7))+12.*g.*m.*cos(x(3)+(-1).*x(5)).^2.*sin( ...
            x(7))+4.*g.*M.*cos(x(3)+(-1).*x(5)).^2.*sin(x(7))+(-24).*g.*m.*cos(x(3)).* ...
            cos(x(3)+(-1).*x(5)).*cos(x(5)).*sin(x(7))+12.*g.*m.*cos(x(5)).^2.*sin(x(7))+( ...
            -6).*l.*m.*x(8).^2.*cos(x(3)).*cos(x(3)+(-1).*x(7)).*sin(x(7))+4.*l.*m.* ...
            x(8).^2.*cos(x(3)+(-1).*x(5)).*cos(x(5)).*cos(x(3)+(-1).*x(7)).*sin(x(7))+6.*l.* ...
            m.*x(8).^2.*cos(x(3)).*cos(x(3)+(-1).*x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+( ...
            -6).*l.*m.*x(8).^2.*cos(x(5)).*cos(x(5)+(-1).*x(7)).*sin(x(7))+6.*l.*m.* ...
            x(8).^2.*cos(x(7)).*sin(x(7))+(-4).*l.*m.*x(8).^2.*cos(x(3)+(-1).*x(5)).^2.* ...
            cos(x(7)).*sin(x(7)));
 

end

 